
<div class="container">
  <div class="my-3 mt-5 h2" style="padding-top: 0.5em;">My Watchlist</div>
  <div *ngIf="isLoading else watchlistContent">
    <div class="d-flex justify-content-center">
      <div class="spinner-border text-primary" role="status">
        <span class="sr-only">Loading...</span>
      </div>
    </div>
  </div>
  
  <ng-template #watchlistContent>
    <div *ngIf="watchlist && watchlist.length > 0; else noStocks">
    <div class="col mt-2 px-0" *ngFor="let stock of watchlist">
      <div class="card" (click)="navigateToSearch(stock.ticker)" style="margin-top: 2em;">
        <div class="card-body pt-0 pl-0">
          <button type="button" class="btn-close" (click)="removeStock(stock.ticker, $event)"></button>
          <div class="row pl-3">
            <div class="col-6"><h2>{{stock.ticker}}</h2></div>
            <div class="col-6"><h2 [ngClass]="{'green': stock.priced >= 0, 'red': stock.priced < 0}">{{stock.pricec}}</h2></div>
          </div>
          <div class="row pl-3">
            <div class="col-6">{{stock.name}}</div>
            <div class="col-6" [ngClass]="{'green': stock.priced >= 0, 'red': stock.priced < 0}">
              <span *ngIf="stock.priced >= 0"><i class="bi bi-caret-up-fill"></i></span>
              <span *ngIf="stock.priced < 0"><i class="bi bi-caret-down-fill"></i></span>
              {{stock.priced}} ({{ stock.pricedp+"%" }})
            </div>
          </div>
        </div>
      </div>
    </div>
    </div>
    
  </ng-template>
 
</div>


<ng-template #noStocks>
  <div class="alert alert-warning alert-dismissible fade show text-center align-items-center mt-4" role="alert">
    Currently you dont have any stock in your Watchlist
  </div>
</ng-template>

  